{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "AIChat.Server": "Information"
    },
    "File": {
      "Path": "logs/server/app.jsonl",
      "JsonFormatter": {
        "UseUtcTimestamp": true,
        "IncludeScopes": true,
        "IncludeEventId": true,
        "IncludeCategory": true,
        "IncludeLogLevel": true
      }
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "DefaultConnection": "Data Source=aichat.db"
  },
  "LlmCache": {
    "EnableCaching": true,
    "CacheDirectory": "./llm-cache",
    "CacheExpiration": "24:00:00",
    "MaxCacheItems": 10000
  },
  "AI": { "ModelId": "openai/gpt-5-mini" },
  "Mcp": {
    "McpServers": {
      "brave-search": {
        "Type": "stdio",
        "Command": "npx",
        "Args": ["-y", "brave-search-mcp"],
        "Env": {
          "BRAVE_API_KEY": "${BRAVE_SEARCH_KEY}"
        },
        "Description": "Brave Search API MCP server for web searching (images, web, video, news)",
        "Enabled": true,
        "Priority": 1
      },
      "webpage-fetch": {
        "Type": "stdio",
        "Command": "node",
        "Args": ["b:/sources/turndown-mcp/dist/server.js"],
        "Description": "Webpage fetch MCP server for converting web pages to markdown",
        "Enabled": true,
        "Priority": 1
      },
      "filesystem": {
        "Type": "stdio",
        "Command": "npx",
        "Args": ["-y", "@modelcontextprotocol/server-filesystem"],
        "Env": {
          "WORKSPACE_DIR": "${WORKSPACE_DIR:-./workspace}"
        },
        "Description": "NPM-based file system operations MCP server",
        "Enabled": false,
        "Priority": 3
      },
      "weather": {
        "Type": "stdio",
        "Command": "npx",
        "Args": ["-y", "mohaimen-weather-mcp"],
        "Env": {
          "OPENWEATHER_API_KEY": "${OPENWEATHER_API_KEY}"
        },
        "Description": "Enhanced weather MCP server with forecasts, air quality, UV index",
        "Enabled": false,
        "Priority": 4
      },
      "sequential-thinking": {
        "Type": "stdio",
        "Command": "npx",
        "Args": ["-y", "mcp-sequentialthinking-tools"],
        "Description": "Sequential thinking tools for step-by-step problem solving",
        "Enabled": false,
        "Priority": 5
      }
    },
    "Inputs": [
      {
        "Type": "promptString",
        "Id": "weather-api-key",
        "Description": "OpenWeather API Key",
        "Password": true,
        "DefaultValue": "OPENWEATHER_API_KEY"
      }
    ]
  },
  "LmConfig": {
    "ApiKeyEnvironmentVariable": "LLM_API_KEY",
    "Models": [
      {
        "id": "moonshotai-kimi-k2",
        "is_reasoning": false,
        "capabilities": {
        "multimodal": {
          "supports_images": false,
          "supports_audio": false,
          "supports_video": false
        },
        "function_calling": {
          "supports_tools": true,
          "supports_parallel_calls": true,
          "supports_tool_choice": true,
          "max_tools_per_request": 128,
          "supported_tool_types": ["function"]
        },
        "token_limits": {
          "max_context_tokens": 131072,
          "max_output_tokens": 32768,
          "recommended_max_prompt_tokens": 120000
        },
        "response_formats": {
          "supports_json_mode": true,
          "supports_structured_output": true,
          "supports_json_schema": false
        },
        "supports_streaming": true,
        "supported_features": ["function-calling", "moe", "agentic", "coding"],
        "performance": {
          "typical_latency": "00:00:02",
          "max_latency": "00:00:10",
          "tokens_per_second": 80.0,
          "quality_tier": "high"
        }
        },
        "providers": [
        {
          "name": "OpenRouter",
          "model_name": "moonshotai/kimi-k2",
          "priority": 1,
          "pricing": {
            "prompt_per_million": 0.3,
            "completion_per_million": 0.3
          },
          "sub_providers": [
            {
              "name": "Chutes",
              "model_name": "moonshotai/Kimi-K2-Instruct",
              "priority": 1,
              "pricing": {
                "prompt_per_million": 0.302,
                "completion_per_million": 0.302
              }
            },
            {
              "name": "Targon",
              "model_name": "moonshotai/Kimi-K2-Instruct",
              "priority": 2,
              "pricing": {
                "prompt_per_million": 0.14,
                "completion_per_million": 2.49
              }
            },
            {
              "name": "DeepInfra",
              "model_name": "moonshotai/Kimi-K2-Instruct",
              "priority": 3,
              "pricing": {
                "prompt_per_million": 0.55,
                "completion_per_million": 2.2
              }
            },
            {
              "name": "NovitaAI",
              "model_name": "moonshotai/kimi-k2-instruct",
              "priority": 4,
              "pricing": {
                "prompt_per_million": 0.57,
                "completion_per_million": 2.3
              }
            },
            {
              "name": "Baseten",
              "model_name": "moonshotai/Kimi-K2-Instruct",
              "priority": 5,
              "pricing": {
                "prompt_per_million": 0.6,
                "completion_per_million": 2.5
              }
            },
            {
              "name": "Moonshot AI",
              "model_name": "kimi-k2-0711-preview",
              "priority": 6,
              "pricing": {
                "prompt_per_million": 0.6,
                "completion_per_million": 2.5
              }
            },
            {
              "name": "Together",
              "model_name": "moonshotai/Kimi-K2-Instruct",
              "priority": 7,
              "pricing": {
                "prompt_per_million": 1.0,
                "completion_per_million": 3.0
              }
            },
            {
              "name": "Groq",
              "model_name": "moonshotai/kimi-k2-instruct",
              "priority": 8,
              "pricing": {
                "prompt_per_million": 1.0,
                "completion_per_million": 3.0
              }
            },
            {
              "name": "GMICloud",
              "model_name": "moonshotai/Kimi-K2-Instruct",
              "priority": 9,
              "pricing": {
                "prompt_per_million": 1.0,
                "completion_per_million": 3.0
              }
            },
            {
              "name": "Parasail",
              "model_name": "parasail-kimi-k2-instruct",
              "priority": 10,
              "pricing": {
                "prompt_per_million": 1.5,
                "completion_per_million": 4.0
              }
            }
          ],
          "tags": ["fallback", "moe", "agentic", "openai-compatible"]
        }
      ]
    }
    ],
    "provider_registry": {
      "OpenRouter": {
        "endpoint_url": "https://openrouter.ai/api/v1",
        "api_key_environment_variable": "OPENROUTER_API_KEY",
        "compatibility": "OpenAI",
        "headers": {
          "HTTP-Referer": "https://github.com/your-org/lm-dotnet-tools",
          "X-Title": "LMConfig Application"
        },
        "timeout": "00:02:00",
        "max_retries": 3,
        "description": "OpenRouter aggregator with multiple provider fallback"
      },
      "OpenAI": {
        "endpoint_url": "https://api.openai.com/v1",
        "api_key_environment_variable": "OPENAI_API_KEY",
        "compatibility": "OpenAI",
        "timeout": "00:02:00",
        "max_retries": 3,
        "description": "OpenAI official API"
      }
    }
  }
}
